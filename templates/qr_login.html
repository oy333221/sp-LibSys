{% extends "base.html" %}

{% block navbar %}
<nav class="navbar navbar-expand-lg navbar-light bg-warning">
    <div class="container">
        <span class="navbar-brand">
            <i class="fas fa-qrcode mr-2"></i>QR Code 借還書系統
        </span>
    </div>
</nav>
{% endblock %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-md-6">
        <div class="card">
            <div class="card-body">
                <h2 class="card-title text-center mb-4">借還書登入</h2>
                
                <div class="alert alert-warning mb-4">
                    <i class="fas fa-exclamation-circle mr-2"></i>
                    <strong>注意：</strong>此為書籍借還專用登入，請使用書袋擁有者的帳號。
                    <br>
                    <small>如需一般借閱服務，請使用首頁登入。</small>
                </div>

                <div id="timer" class="text-center mb-3">
                    <span class="badge badge-warning">
                        <i class="fas fa-clock mr-1"></i>
                        剩餘時間: <span id="countdown">10:00</span>
                    </span>
                </div>

                <form method="POST">
                    <div class="form-group">
                        <label for="phone">手機號碼</label>
                        <input type="tel" class="form-control" id="phone" name="phone" required>
                    </div>
                    <div class="form-group">
                        <label for="password">密碼</label>
                        <input type="password" class="form-control" id="password" name="password" required>
                    </div>
                    <button type="submit" class="btn btn-warning btn-block">登入借還書系統</button>
                </form>
            </div>
        </div>
    </div>
</div>

<script>
// 計時器代碼
let timeLeft = 600;
const countdownElement = document.getElementById('countdown');

function updateTimer() {
    const minutes = Math.floor(timeLeft / 60);
    const seconds = timeLeft % 60;
    countdownElement.textContent = `${minutes}:${seconds.toString().padStart(2, '0')}`;
    
    if (timeLeft <= 0) {
        alert('頁面已過期，請重新掃描 QR Code！');
        window.location.reload();
    } else {
        timeLeft--;
    }
}

setInterval(updateTimer, 1000);
</script>
{% endblock %} 